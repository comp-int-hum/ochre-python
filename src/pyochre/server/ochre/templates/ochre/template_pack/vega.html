
<div class="container w-75" id="{{widget.div_id}}_1">
</div>
<div class="container w-75" id="{{widget.div_id}}_2">
</div>

<div class="overflow-scroll vh-100" id="{{widget.value_id}}"></div>


{{ vega_spec|json_script:widget.spec_id }}

<script type="text/javascript">  
  var view;
  var spec = JSON.parse(document.getElementById("{{widget.spec_id}}").textContent);
  render(spec);
  function render(spec) {
      view = new vega.View(vega.parse(spec), {
          renderer:  'canvas',  // renderer (canvas or svg)
          container: '#{{widget.value_id}}',   // parent DOM container
          hover:     true       // enable hover processing
      });      
      view.resize();
      //var el = document.getElementById("{{style.div_id}}");
      //view.width(el.offsetWidth);
      //view.height(el.offsetHeight);
      view.logLevel(vega.Warn);
      return view.runAsync();
      }
</script>

